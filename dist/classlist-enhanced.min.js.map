{"version":3,"file":"classlist-enhanced.min.js","sources":["../node_modules/more-events/index.js","../node_modules/dom-eve/dist/bundle.es.js","../node_modules/dom-classlist/index.js","../src/lib/update_indexes.js","../src/lib/eventnames.js","../node_modules/array-from/polyfill.js","../node_modules/array-from/index.js","../src/index.js"],"sourcesContent":["//Most for use with gyre\n/*\ngit remote add origin https://github.com/hollowdoor/more_events.git\ngit push -u origin master\n*/\nfunction MoreEvents(context){\n    this.listeners = {};\n    this.__context = context || this;\n}\n\nMoreEvents.prototype = {\n    constructor: MoreEvents,\n    on: function(event, listener){\n        this.listeners[event] = this.listeners[event] || [];\n        this.listeners[event].push(listener);\n        return this;\n    },\n    one: function(event, listener){\n        function onceListener(){\n            listener.apply(this, arguments);\n            this.off(event, onceListener);\n            return this;\n        }\n        return this.on(event, onceListener);\n    },\n    emit: function(event){\n        if(typeof this.listeners[event] === 'undefined' || !this.listeners[event].length)\n            return this;\n\n        var args = Array.prototype.slice.call(arguments, 1),\n            canRun = this.listeners[event].length;\n\n        do{\n            this.listeners[event][--canRun].apply(this.__context, args);\n        }while(canRun);\n\n        return this;\n    },\n    off: function(event, listener){\n        if(this.listeners[event] === undefined || !this.listeners[event].length)\n            return this;\n        this.listeners[event] = this.listeners[event].filter(function(item){\n            return item !== listener;\n        });\n        return this;\n    },\n    dispose: function(){\n        for(var n in this){\n            this[n] = null;\n        }\n    }\n};\n\nmodule.exports.Emitter = MoreEvents;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar arguments$1 = arguments;\n\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments$1[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\nvar eventsProto = objectAssign(Object.create(null), {\n    on: function on(name, cb, options){\n        this.element.addEventListener(name, cb, options);\n        this._records[name] = this._records[name] || [];\n        this._records[name].push([\n            name, cb, options\n        ]);\n        return this;\n    },\n    off: function off(name, cb, options){\n        this.element.removeEventListener(name, cb, options);\n\n        if(this._records[name] !== void 0){\n            var records = this._records[name];\n\n            for(var i=0; i<records.length; i++){\n                if(records[i][1] === cb && records[i][2] === options){\n                    records.splice(i, 1);\n                    if(i + 1 !== records.length){\n                        --i;\n                    }\n                }\n            }\n        }\n        return this;\n    },\n    dispatch: function dispatch(event){\n        this.element.dispatchEvent(event);\n        return this;\n    },\n    clear: function clear(){\n        var this$1 = this;\n\n        for(var name in this$1._records){\n            var records = this$1._records[name];\n            records.forEach(function (record){\n                (ref = this$1).off.apply(ref, record);\n                var ref;\n            });\n        }\n        return this;\n    }\n});\n\nfunction events(element, tracker){\n    if ( tracker === void 0 ) tracker = null;\n\n    var eve = Object.create(eventsProto);\n    eve._records = Object.create(null);\n    if(typeof element === 'string'){\n        eve.element = document.querySelector(element);\n    }else{\n        eve.element = element;\n    }    \n\n    if(tracker){\n        tracker.list.push(eve);\n    }\n\n    return eve;\n}\n\nevents.track = function track(){\n    return {\n        list: [],\n        clear: function clear(){\n            this.list.forEach(function (item){\n                item.clear();\n            });\n        }\n    };\n};\n\nexport default events;\n//# sourceMappingURL=bundle.es.js.map\n","/**\n * Module export\n *\n * @param {Element} el\n * @return {ClassList}\n */\n\nmodule.exports = function (el) {\n  return new ClassList(el);\n};\n\n/**\n * Initialize a new ClassList for the given element\n *\n * @param {Element} el DOM Element\n */\nfunction ClassList(el) {\n  if (!el || el.nodeType !== 1) {\n    throw new Error('A DOM Element reference is required');\n  }\n\n  this.el = el;\n  this.classList = el.classList;\n}\n\n/**\n * Check token validity\n *\n * @param token\n * @param [method]\n */\nfunction checkToken(token, method) {\n  method = method || 'a method';\n\n  if (typeof token != 'string') {\n    throw new TypeError(\n      'Failed to execute \\'' + method + '\\' on \\'ClassList\\': ' +\n      'the token provided (\\'' + token + '\\') is not a string.'\n    );\n  }\n  if (token === \"\") {\n    throw new SyntaxError(\n      'Failed to execute \\'' + method + '\\' on \\'ClassList\\': ' +\n      'the token provided must not be empty.'\n    );\n  }\n  if (/\\s/.test(token)) {\n    throw new Error(\n      'Failed to execute \\'' + method + '\\' on \\'ClassList\\': ' +\n      'the token provided (\\'' + token + '\\') contains HTML space ' +\n      'characters, which are not valid in tokens.'\n    );\n  }\n}\n\n/**\n * Return an array of the class names on the element.\n *\n * @return {Array}\n */\nClassList.prototype.toArray = function () {\n  var str = (this.el.getAttribute('class') || '').replace(/^\\s+|\\s+$/g, '');\n  var classes = str.split(/\\s+/);\n  if ('' === classes[0]) { classes.shift(); }\n  return classes;\n};\n\n/**\n * Add the given `token` to the class list if it's not already present.\n *\n * @param {String} token\n */\nClassList.prototype.add = function (token) {\n  var classes, index, updated;\n  checkToken(token, 'add');\n\n  if (this.classList) {\n    this.classList.add(token);\n  }\n  else {\n    // fallback\n    classes = this.toArray();\n    index = classes.indexOf(token);\n    if (index === -1) {\n      classes.push(token);\n      this.el.setAttribute('class', classes.join(' '));\n    }\n  }\n\n  return;\n};\n\n/**\n * Check if the given `token` is in the class list.\n *\n * @param {String} token\n * @return {Boolean}\n */\nClassList.prototype.contains = function (token) {\n  checkToken(token, 'contains');\n\n  return this.classList ?\n    this.classList.contains(token) :\n    this.toArray().indexOf(token) > -1;\n};\n\n/**\n * Remove any class names that match the given `token`, when present.\n *\n * @param {String|RegExp} token\n */\nClassList.prototype.remove = function (token) {\n  var arr, classes, i, index, len;\n\n  if ('[object RegExp]' == Object.prototype.toString.call(token)) {\n    arr = this.toArray();\n    for (i = 0, len = arr.length; i < len; i++) {\n      if (token.test(arr[i])) {\n        this.remove(arr[i]);\n      }\n    }\n  }\n  else {\n    checkToken(token, 'remove');\n\n    if (this.classList) {\n      this.classList.remove(token);\n    }\n    else {\n      // fallback\n      classes = this.toArray();\n      index = classes.indexOf(token);\n      if (index > -1) {\n        classes.splice(index, 1);\n        this.el.setAttribute('class', classes.join(' '));\n      }\n    }\n  }\n\n  return;\n};\n\n/**\n * Toggle the `token` in the class list. Optionally force state via `force`.\n *\n * Native `classList` is not used as some browsers that support `classList` do\n * not support `force`. Avoiding `classList` altogether keeps this function\n * simple.\n *\n * @param {String} token\n * @param {Boolean} [force]\n * @return {Boolean}\n */\nClassList.prototype.toggle = function (token, force) {\n  checkToken(token, 'toggle');\n\n  var hasToken = this.contains(token);\n  var method = hasToken ? (force !== true && 'remove') : (force !== false && 'add');\n\n  if (method) {\n    this[method](token);\n  }\n\n  return (typeof force == 'boolean' ? force : !hasToken);\n};\n","export default function updateIndexes(self){\n    const classes = self.className.trim().split(' ');\n    Array.prototype.splice.call(self, 0, self.length);\n    Array.prototype.push.apply(self, classes);\n}\n","const holder = {\n    transitionend: {\n        \"transition\"      : \"transitionend\",\n        \"OTransition\"     : \"oTransitionEnd\",\n        \"MozTransition\"   : \"transitionend\",\n        \"WebkitTransition\": \"webkitTransitionEnd\"\n    },\n    animationstart: {\n        \"animation\"      : \"animationstart\",\n        \"OAnimation\"     : \"oAnimationStart\",\n        \"MozAnimation\"   : \"animationstart\",\n        \"WebkitAnimation\": \"webkitAnimationStart\"\n    },\n    animationiteration: {\n        \"animation\"      : \"animationiteration\",\n        \"OAnimation\"     : \"oAnimationIteration\",\n        \"MozAnimation\"   : \"animationiteration\",\n        \"WebkitAnimation\": \"webkitAnimationIteration\"\n    },\n    animationend: {\n        \"animation\"      : \"animationend\",\n        \"OAnimation\"     : \"oAnimationEnd\",\n        \"MozAnimation\"   : \"animationend\",\n        \"WebkitAnimation\": \"webkitAnimationEnd\"\n    }\n};\n\nfunction prefixName(name, element){\n\n    let fixer = holder[name];\n\n    for(let n in fixer){\n        if(element.style[n] !== undefined){\n            element = null;\n            return fixer[n];\n        }\n    }\n\n    element = null;\n    return name;\n}\n\nconst eventNames = (()=>{\n    let div = document.createElement('div');\n    let result = {\n        animationstart: prefixName('animationstart', div),\n        animationend: prefixName('animationend', div),\n        animationiteration: prefixName('animationiteration', div),\n        transitionend: prefixName('transitionend', div)\n    };\n    div = null;\n    return result;\n})();\n\nexport default { eventNames };\n","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, «nextValue, k»).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, «len»).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","module.exports = (typeof Array.from === 'function' ?\n  Array.from :\n  require('./polyfill')\n);\n","import moreEvents from 'more-events';\nimport events from 'dom-eve';\nimport classList from 'dom-classlist';\nimport arrayFrom from 'array-from';\nimport updateIndexes from './lib/update_indexes.js';\nimport eventNames from './lib/eventnames.js';\nconst Emitter = moreEvents.Emitter;\n\nclass ClassListEnhanced extends Emitter {\n    constructor(element, context){\n        super();\n        this.element = element;\n        this.length = 0;\n\n        this.classList = classList(element);\n\n        const tracker = events.tracker();\n        events(element, tracker)\n        .on(eventNames.animationstart, event=>{\n            return this.emit('animationstart', event);\n        })\n        .on(eventNames.animationend, event=>{\n            return this.emit('animationend', event);\n        })\n        .on(eventNames.animationiteration, event=>{\n            return this.emit('animationiteration', event);\n        })\n        .on(eventNames.transitionend, event=>{\n            return this.emit('transitionend', event);\n        });\n\n        this.destroy = function(){\n            tracker.clear();\n        };\n    }\n    get className(){\n        return this.element.className;\n    }\n    contains(name){\n        return this.classList.contains(name);\n    }\n    add(...names){\n        names.forEach(name=>{\n            this.classList.add(name);\n        });\n        updateIndexes(this);\n        this.emit('add', names);\n    }\n    remove(...names){\n        names.forEach(name=>{\n            this.classList.remove(name);\n        });\n        updateIndexes(this);\n        this.emit('remove', names);\n    }\n    toggle(name, test){\n        let result = this.classList.toggle(name, test);\n        updateIndexes(this);\n        this.emit('toggle', name, result);\n    }\n    item(index){\n        return this.classList.item(index);\n    }\n    forEach(fn, ctx){\n        return arrayFrom(this).forEach(fn, ctx);\n    }\n    map(fn, ctx){\n        return arrayFrom(this).map(fn, ctx);\n    }\n    filter(fn, ctx){\n        return arrayFrom(this).filter(fn, ctx);\n    }\n    reduce(fn, init){\n        return arrayFrom(this).reduce(fn, init);\n    }\n}\n"],"names":["MoreEvents","context","this","listeners","__context","toObject","val","undefined","TypeError","Object","events","element","tracker","eve","create","eventsProto","_records","document","querySelector","list","push","ClassList","el","nodeType","Error","classList","checkToken","token","method","SyntaxError","test","updateIndexes","self","const","classes","className","trim","split","Array","prototype","splice","call","length","apply","prefixName","name","let","fixer","holder","n","style","constructor","on","event","listener","one","onceListener","arguments","off","emit","args","slice","canRun","filter","item","dispose","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","join","test3","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","arguments$1","to","s","key","cb","options","addEventListener","removeEventListener","records","dispatch","dispatchEvent","clear","this$1","record","ref","track","toArray","getAttribute","replace","shift","add","indexOf","setAttribute","contains","remove","arr","index","len","toString","toggle","force","hasToken","isCallable","fn","toInteger","value","number","Number","isNaN","isFinite","Math","floor","abs","maxSafeInteger","pow","toLength","min","max","iteratorProp","Symbol","iterator","getMethod","O","P","func","iteratorStep","result","next","Boolean","done","items","T","C","mapFn","A","k","usingIterator","nextValue","arrayLike","kValue","require$$0","transitionend","transition","OTransition","MozTransition","WebkitTransition","animationstart","animation","OAnimation","MozAnimation","WebkitAnimation","animationiteration","animationend","eventNames","div","createElement","super","destroy","prototypeAccessors","ClassListEnhanced","names","ctx","arrayFrom","reduce","init","moreEvents","Emitter"],"mappings":"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"}